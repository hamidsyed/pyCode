# helper.config

This file documents the simple key=value configuration used by the BMS BACnet
server and client scripts. Place `server.config` and `client.config` in the
same directory where you run the scripts (or pass a mechanism to load them).

--- server.config keys ---
Port         : (integer) TCP/UDP port used by the BACnet server application.
               Example: 47808
DebugLevel   : (string or integer) Logging level applied to the root logger.
               Use names like DEBUG, INFO, WARNING, ERROR, or numeric levels.
               Example: DEBUG
VendorName   : (string) Vendor name to expose in the LocalDeviceObject.
               Example: AcmeBMS
VendorIdentifier: (integer) Numeric vendor id exposed in LocalDeviceObject.
               Example: 1234
ModelName    : (string) Model name to expose in the LocalDeviceObject.
               Example: Acme BACnet Server v1

Notes:
- The server reads `server.config` on startup. If `Port` is set and the server
  is started with the default address, the port will be applied to
  `127.0.0.1:<Port>`.
- Lines beginning with `#` are ignored.
- Unknown keys are ignored; malformed lines (no `=`) are skipped.

--- client.config keys ---
db_type      : (string) Database backend. Supported: `sqlite` or `postgres`.
               Example: sqlite
database     : (string) For sqlite, the filename. For postgres, the DB name.
               Example: bms_bacnet.db
table        : (string) Table name to store readings.
               Example: bms_readings
db_host      : (string) Hostname/IP of DB server when using postgres.
               Example: localhost
db_username  : (string) Database server username (used for Postgres authentication).
               Example: myuser
db_password  : (string) Database server password (used for Postgres authentication).
               Example: mypassword
port         : (integer) Database server port (used for Postgres).
               Example: 5432

bacnet_server: (string) Target BACnet server address as host:port to poll.
               Example: 127.0.0.1:47808
poll_interval: (float) Polling duration in seconds between sensor reads.
               Example: 1.0
debuglevel   : (string or integer) Logging level (DEBUG, INFO, ...).
               Example: DEBUG
local_device_id: (integer) Local BACnet device instance id for this client.
               Example: 999
local_address: (string) Local address to bind the client to, e.g. 0.0.0.0:47809

Notes:
- The client reads `client.config` on startup and uses values when present.
- For postgres, you can now specify db_username, db_password, and port directly
  in the configuration file for proper authentication.
- Backward compatibility: The system supports both old naming conventions
  (user/password/host) and new conventions (db_username/db_password/db_host).
- For SQLite, db_username and db_password are not required and will be ignored.
- Lines beginning with `#` are ignored.

--- Example usage ---
1) Edit `server.config` and `client.config` to set addresses and ports.
2) Start server:
   python bms_bacnet_server_bacnet.py
3) Start client:
   python bms_bacnet_client_bacnet.py

--- Example Postgres Configuration ---
To use Postgres with authentication, configure your `client.config` as follows:

db_type=postgres
database=bms_database
table=bms_readings
db_host=db.example.com
db_username=myuser
db_password=mypassword
port=5432
bacnet_server=127.0.0.1:47808
poll_interval=1.0
debuglevel=DEBUG
local_device_id=999
local_address=0.0.0.0:47809

If you want me to add CLI flags to pass config paths or validate required
fields, I can implement that next.
